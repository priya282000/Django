{% extends 'base.html' %}

{% block content %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark text-white">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
           <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="home"><b>Home</b></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#contact">Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#about">About</a>
              </li>
              <li class="btn-group">
                 <ul>
                    <form action="search_category">
                        <select name="category">
                            <option disabled="true" selected>Category</option>
                            <option><li>Fiction</li></option>
                            <option><li>Technology</li></option>
                            <option><li>Horror</li></option>
                            <option><li>Historical</li></option>
                            <option><li>Suspense and Thriller</li></option>
                        </select>
                        <button type="submit" class="btn btn-outline-secondary"><i class="bi bi-search"></i></button>
                    </form>
                 </ul>
              </li>
           </ul>

           <ul class="navbar-nav ms-auto">
               <form class="form-inline my-2 my-lg-0" action="search">
                  {% csrf_token %}
                  <div class="input-group">
                    <input type="search" class="form-control rounded" name="book_name" placeholder="Search book" aria-label="Search" aria-describedby="search-addon" />
                    <button type="submit" class="btn btn-outline-secondary"><i class="bi bi-search"></i></button>
                  </div>
               </form>
               <form class="form-inline my-2 my-lg-0" action="cart">
                  {% csrf_token %}
                  <li class="nav-item active">
                     <button type="button" id="popcart" class="btn btn-secondary" data-html="true" data-toggle="tooltip" data-placement="left" title="Cart items">
                        <i class="bi bi-cart3">(<span id="cart">0</span>)</i>
                     </button>
                  </li>
               </form>
               <li class="nav-item active">
                  <a class="nav-link" href="/">
                       <i class="bi bi-power"></i>
                  </a>
               </li>
           </ul>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">
                <div class="col-md-3" id="leftCol">
                    <ul class="nav nav-stacked" id="sidebar">
                        <li class="active">
                            <a>Categories</a>
                            <ul class="nav">
                                <li>
                                   <a name="category" >Fiction</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a name="category">Technology</a>
                            <ul class="nav">
                                <li>
                                    <a name="category">Horror</a>
                                </li>
                                <li>
                                    <a name="category">Historical</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a name="category">Science Fiction</a>
                            <ul class="nav">
                                <li>
                                    <a name="category">Suspense and Thriller</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a name="category">Fantasy</a>
                            <ul class="nav">
                                <li>
                                    <a name="category">Sports and Games</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a name="category">Community and Government</a>
                            <ul class="nav">
                                <li>
                                    <a name="category">Business</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a name="category">Food</a>
                            <ul class="nav">
                                <li>
                                    <a name="category">Novels</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a name="category">Romance</a>
                            <ul class="nav">
                                <li>
                                    <a name="category">Literature</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-8">
                <div class="row justify-content-center">
                    {% for book in books%}
                        <div class="col-md-4 mx-50">
                            <div class="card shadow" style="width: 15rem; height: 25rem; margin:3%; padding:1%; top: 5px;">
                                  <div class="inner">
                                      <img class="card-img-top" src="media/{{book.book_image}}" alt="Card image cap">
                                  </div>
                                  <div class="card-body">
                                    <h5 class="card-title" id="namepr{{book.id}}">{{book.title}}</h5>
                                    <p class="card-text">
                                       - {{book.author}}<br>
                                       <h6 class="cart-text" id="pricepr{{book.id}}"> Price: {{book.price}}</h6>
                                       Category: {{book.category}}<br>
                                    </p>
                                    {% if book.quantity > 0 %}
                                      <p class="text-success">In stock</p>
                                      <span id="divpr{{book.id}}" class="divpr">
                                         <button id="pr{{book.id}}" class="btn btn-dark cart" >Add to Cart</button>
                                      </span>
                                    {% else %}
                                      <p class="text-danger">Out of stock</p>
                                      <a class="btn btn-secondary" disabled>Add to Cart</a>
                                    {% endif %}
                                  </div>
                            </div>
                        </div>
                    {% endfor %}

                    {% if books.has_previous %}
                        <left><a href="{% url 'home' %}?page={{books.previous_page_number}}" class="prev"><button type="button" class="btn btn-dark"> < </button></a></left>
                    {% endif %}
                    {% if books.has_next %}
                        <right><a href="{% url 'home' %}?page={{books.next_page_number}}" class="next"><button type="button" class="btn btn-dark" > > </button></a></right>
                    {% endif %}

                </div>
            </div>
        </div>
    </div>
    <div class="container" id="about">
        <center><p><h5>About Us</h5>
            Bookshop's platform and software is currently a beta version which is still undergoing development, testing, and improvements before its final release.
            Should you encounter any bugs, glitches, lack of functionality or other problems on Bookshop during our beta, please let us know immediately. Your help improving our site is greatly appreciated!
        </p></center>
    </div>
    <center><div class="container" id="contact">
       <b> CONTACT INFO</b><br>
        ADDRESS<br>
            11/82, Malviya Nagar Chennai,302017<br>
        EMAIL ID<br>
            books@onlinebooksstore.in<br>
        PHONE<br>
            +91 9784 708717<br>
    </div></center>
{% endblock %}

{% block js %}
    <script src="static/js/home.js"></script>
{% endblock %}
